var i=[],o=(t,e)=>{i.push({name:t,callback:e})},l=(t,e)=>{i.filter((r)=>r.name===t).forEach((r)=>r.callback(e))};var d=new EventSource("/sse");d.onmessage=(t)=>{const{type:e,data:r}=JSON.parse(t.data);l(e,r)};fetch("https://1.ipv4.army/api/event",{method:"POST",body:JSON.stringify({domain:"ipv4.army",name:"pageview",url:location.href,referrer:document.referrer,props:{languages:navigator.languages.join(", ")}})});var m={avatar:document.getElementById("avatar"),img:document.getElementById("img"),link:document.getElementById("link"),blur:document.getElementById("blur"),music:document.getElementById("music"),heartrate:document.getElementById("heartrate")};o("discord",(t)=>{const{avatar:e,img:r,link:s,blur:a,music:n}=m;if(e)e.style.border=`solid var(--${t.discord_status})`;if(t.listening_to_tidal){if(r)r.setAttribute("style",`background: center / contain no-repeat url(https://wsrv.nl/?output=webp&q=1&url=${t.tidal.album_art_url})`);if(s)s.setAttribute("href",`https://tidal.com/browse/track/${t.tidal.track_id}/u`);if(a)a.classList.add("small-blur");if(n)n.textContent=`${t.tidal.song.replace(/\s?[\(\[].*?[\)\]]/g,"")} ${t.tidal.artist} ${t.tidal.album.replace("on ","")!==t.tidal.song?t.tidal.album:""}`,n.style.filter=`drop-shadow(1px 1px 10px ${t.tidal.color})`}else{if(a)a.classList.remove("small-blur");if(n)n.textContent="Not listening to anything."}});o("heartrate",(t)=>{const{heartrate:e}=m;if(e)e.textContent=t.toString()});

//# debugId=777F921935823C5D64756E2164756E21
//# sourceMappingURL=index.js.map

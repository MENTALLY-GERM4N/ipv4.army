{
  "version": 3,
  "sources": ["..\\web-src\\ts\\lib\\event.ts", "..\\web-src\\ts\\sse\\index.ts", "..\\web-src\\ts\\lib\\1.ts", "..\\web-src\\index.ts"],
  "sourcesContent": [
    "type Event = { name: string; callback: Function };\r\nlet events: Event[] = [];\r\n\r\nexport const on = (name: string, callback: Function) => {\r\n  events.push({ name, callback });\r\n};\r\n\r\nexport const emit = (name: string, data: any) => {\r\n  events\r\n    .filter((event) => event.name === name)\r\n    .forEach((event) => event.callback(data));\r\n};\r\n",
    "import { emit } from \"../lib/event.js\";\r\n\r\nconst evtSource = new EventSource(\"/sse\");\r\n\r\nevtSource.onmessage = (event) => {\r\n  const { type, data } = JSON.parse(event.data);\r\n\r\n  emit(type, data);\r\n};\r\n",
    "fetch(\"https://1.ipv4.army/api/event\", {\r\n  method: \"POST\",\r\n  body: JSON.stringify({\r\n    domain: \"ipv4.army\",\r\n    name: \"pageview\",\r\n    url: location.href,\r\n    referrer: document.referrer,\r\n    props: {\r\n      languages: navigator.languages.join(\", \"),\r\n    },\r\n  }),\r\n});\r\n",
    "import { on } from \"./ts/lib/event.js\";\r\nimport \"./ts/sse/index.js\";\r\nimport \"./ts/lib/1.js\";\r\n\r\ntype Activity = {\r\n  discord_status: string;\r\n  listening_to_tidal: boolean;\r\n  tidal: {\r\n    color: string;\r\n    track_id: string;\r\n    song: string;\r\n    artist: string;\r\n    album_art_url: string;\r\n    album: string;\r\n  };\r\n};\r\n\r\nconst elements = {\r\n  avatar: document.getElementById(\"avatar\"),\r\n  img: document.getElementById(\"img\"),\r\n  link: document.getElementById(\"link\"),\r\n  blur: document.getElementById(\"blur\"),\r\n  music: document.getElementById(\"music\"),\r\n  heartrate: document.getElementById(\"heartrate\"),\r\n};\r\n\r\non(\"discord\", (activity: Activity) => {\r\n  const { avatar, img, link, blur, music } = elements;\r\n  if (avatar) {\r\n    avatar.style.border = `solid var(--${activity.discord_status})`;\r\n  }\r\n\r\n  if (activity.listening_to_tidal) {\r\n    if (img) {\r\n      img.setAttribute(\r\n        \"style\",\r\n        `background: center / contain no-repeat url(https://wsrv.nl/?output=webp&q=1&url=${activity.tidal.album_art_url})`\r\n      );\r\n    }\r\n    if (link) {\r\n      link.setAttribute(\r\n        \"href\",\r\n        `https://tidal.com/browse/track/${activity.tidal.track_id}/u`\r\n      );\r\n    }\r\n\r\n    if (blur) {\r\n      blur.classList.add(\"small-blur\");\r\n    }\r\n\r\n    if (music) {\r\n      music.textContent = `${activity.tidal.song.replace(\r\n        /\\s?[\\(\\[].*?[\\)\\]]/g,\r\n        \"\"\r\n      )} ${activity.tidal.artist} ${\r\n        activity.tidal.album.replace(\"on \", \"\") !== activity.tidal.song\r\n          ? activity.tidal.album\r\n          : \"\"\r\n      }`;\r\n      music.style.filter = `drop-shadow(1px 1px 10px ${activity.tidal.color})`;\r\n    }\r\n  } else {\r\n    if (blur) {\r\n      blur.classList.remove(\"small-blur\");\r\n    }\r\n\r\n    if (music) {\r\n      music.textContent = \"Not listening to anything.\";\r\n    }\r\n  }\r\n});\r\n\r\non(\"heartrate\", (rate: number) => {\r\n  const { heartrate } = elements;\r\n  if (heartrate) {\r\n    heartrate.textContent = rate.toString();\r\n  }\r\n});\r\n"
  ],
  "mappings": "AACA,IAAI,EAAkB,CAAC,EAEV,EAAK,CAAC,EAAc,IAAuB,CACtD,EAAO,KAAK,CAAE,OAAM,UAAS,CAAC,GAGnB,EAAO,CAAC,EAAc,IAAc,CAC/C,EACG,OAAO,CAAC,IAAU,EAAM,OAAS,CAAI,EACrC,QAAQ,CAAC,IAAU,EAAM,SAAS,CAAI,CAAC,GCR5C,IAAM,EAAY,IAAI,YAAY,MAAM,EAExC,EAAU,UAAY,CAAC,IAAU,CAC/B,MAAQ,OAAM,QAAS,KAAK,MAAM,EAAM,IAAI,EAE5C,EAAK,EAAM,CAAI,GCPjB,MAAM,gCAAiC,CACrC,OAAQ,OACR,KAAM,KAAK,UAAU,CACnB,OAAQ,YACR,KAAM,WACN,IAAK,SAAS,KACd,SAAU,SAAS,SACnB,MAAO,CACL,UAAW,UAAU,UAAU,KAAK,IAAI,CAC1C,CACF,CAAC,CACH,CAAC,ECMD,IAAM,EAAW,CACf,OAAQ,SAAS,eAAe,QAAQ,EACxC,IAAK,SAAS,eAAe,KAAK,EAClC,KAAM,SAAS,eAAe,MAAM,EACpC,KAAM,SAAS,eAAe,MAAM,EACpC,MAAO,SAAS,eAAe,OAAO,EACtC,UAAW,SAAS,eAAe,WAAW,CAChD,EAEA,EAAG,UAAW,CAAC,IAAuB,CACpC,MAAQ,SAAQ,MAAK,OAAM,OAAM,SAAU,EAC3C,GAAI,EACF,EAAO,MAAM,OAAS,eAAe,EAAS,kBAGhD,GAAI,EAAS,mBAAoB,CAC/B,GAAI,EACF,EAAI,aACF,QACA,mFAAmF,EAAS,MAAM,gBACpG,EAEF,GAAI,EACF,EAAK,aACH,OACA,kCAAkC,EAAS,MAAM,YACnD,EAGF,GAAI,EACF,EAAK,UAAU,IAAI,YAAY,EAGjC,GAAI,EACF,EAAM,YAAc,GAAG,EAAS,MAAM,KAAK,QACzC,sBACA,EACF,KAAK,EAAS,MAAM,UAClB,EAAS,MAAM,MAAM,QAAQ,MAAO,EAAE,IAAM,EAAS,MAAM,KACvD,EAAS,MAAM,MACf,KAEN,EAAM,MAAM,OAAS,4BAA4B,EAAS,MAAM,aAE7D,CACL,GAAI,EACF,EAAK,UAAU,OAAO,YAAY,EAGpC,GAAI,EACF,EAAM,YAAc,8BAGzB,EAED,EAAG,YAAa,CAAC,IAAiB,CAChC,MAAQ,aAAc,EACtB,GAAI,EACF,EAAU,YAAc,EAAK,SAAS,EAEzC",
  "debugId": "777F921935823C5D64756E2164756E21",
  "names": []
}